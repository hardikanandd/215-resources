<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002 (1.62) JA patch-1.4
patched version by:  Kenshi Muto, Debian Project.
LaTeX2HTML 2002 (1.62),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Ex Commands</TITLE>
<META NAME="description" CONTENT="Ex Commands">
<META NAME="keywords" CONTENT="501">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002 JA patch-1.4">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="501.css">

<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node4.html">
<LINK REL="up" HREF="501.html">
<LINK REL="next" HREF="node10.html">
</HEAD>

<BODY  BGCOLOR="#FFFFFF">
<!--Navigation Panel-->
<A NAME="tex2html136"
  HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="icons/next.png"></A> 
<A NAME="tex2html132"
  HREF="501.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="icons/up.png"></A> 
<A NAME="tex2html126"
  HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="icons/prev.png"></A> 
<A NAME="tex2html134"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="icons/contents.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html137"
  HREF="node10.html">Finishing Up</A>
<B> Up:</B> <A NAME="tex2html133"
  HREF="501.html">The Vi Editor</A>
<B> Previous:</B> <A NAME="tex2html127"
  HREF="node8.html">Moving About in a</A>
 &nbsp <B>  <A NAME="tex2html135"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00050000000000000000">
Ex Commands</A>
</H1>

<P>
Commands preceded by a colon, such as those above,
are called
<I>ex</I>
commands.
This is because they are line-oriented commands used by the
<TT>ex</TT>
line-oriented editor.
You can invoke
<TT>ex</TT>
from the shell with the command:
<BLOCKQUOTE>
<TT>% ex <EM>filename</EM></TT>

</BLOCKQUOTE>
But, more usefully, you can give
<TT>ex</TT>
line-mode commands to
<TT>vi</TT>
by preceding them with a colon (:).  
All line-mode commands are terminated by pressing
<IMG
 WIDTH="80" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="img2.png"
 ALT="\fbox{RETURN}">.
One particularly useful line-mode command is the substitute command
<TT>s</TT>.
For example:
<BLOCKQUOTE>
<TT>:s/hello/goodbye/</TT>

</BLOCKQUOTE>
locates the word ``hello'' on the current line and replaces it with ``goodbye''.
This can be done for every occurrence of the word on the line by
appending <TT>g</TT>
(for global) to the command:
<BLOCKQUOTE>
<TT>:s/room 10/room 12/g</TT>

</BLOCKQUOTE>
replaces each occurrence of ``room 10'' on the line with ``room 12''.

<P>
A range of lines to be affected by the <TT>ex</TT>
command can be given, e.g.
<BLOCKQUOTE>
<TT>:1,20s/terminal/Macintosh/g</TT>

</BLOCKQUOTE>
replaces all occurrences of ``terminal'' with ``Macintosh'' in lines 1 to 20 of the file;
<BLOCKQUOTE>
<TT>:1,$s/terminal/Macintosh/g</TT>

</BLOCKQUOTE>
would do the substitution throughout the file.

<P>
Other useful
<TT>ex</TT>
commands are:
<BLOCKQUOTE>
:r <EM>file</EM>

</BLOCKQUOTE>
which reads file <I>file</I>
and appends its contents after the current line,
and
<BLOCKQUOTE>
:w <EM>file</EM>

</BLOCKQUOTE>
which writes the edit buffer to <I>file</I>.
You can write the whole buffer
to a file or you can specify a range of lines e.g.
<BLOCKQUOTE>
<TT>:1,.w startfile</TT>

</BLOCKQUOTE>
writes all lines from the start of the file to the current line to file
``startfile''  (``.'' means the current line).

<P>
The 
<TT>vi</TT>
command <TT>Q</TT> will switch the editor to
<TT>ex</TT>
mode for all subsequent commands.  The
<TT>ex</TT>
command <TT>:vi</TT> switches to screen mode.  (Note that when you are in permanent
<TT>ex</TT>
mode, a colon ``:'' prompt is issued when
<TT>ex</TT>
can accept a command, so you shouldn't type it yourself).

<P>
In <TT>ex</TT>
you cannot move around using the arrow keys but you can make any
line the current line by giving its number, e.g.
<BLOCKQUOTE>
<TT>:10</TT>

</BLOCKQUOTE>
(don't forget to press
<IMG
 WIDTH="80" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="img2.png"
 ALT="\fbox{RETURN}">)
or by referring to the line as an offset to the current line, e.g.
<BLOCKQUOTE>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=216><TT>:+7</TT></TD>
<TD ALIGN="LEFT">-&nbsp;</TD><TD ALIGN="LEFT">move on 7 lines</TD>
</TR>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=216><TT>:-3</TT></TD>
<TD ALIGN="LEFT">-&nbsp;</TD><TD ALIGN="LEFT">move back 2 lines</TD>
</TR>
</TABLE>
</BLOCKQUOTE>
or by locating the line by context, e.g.
<BLOCKQUOTE>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=216><TT>:/sometext</TT></TD>
<TD ALIGN="LEFT">-&nbsp;</TD><TD ALIGN="LEFT">move on to the line containing <EM>sometext</EM></TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
A line may be marked with the <TT>:k</TT> command:
<BLOCKQUOTE>
<TT>:ka</TT>

</BLOCKQUOTE>
means mark the current line and call it <TT>a</TT>.   You can later refer to the line
as <TT>'a</TT>
e.g.
<BLOCKQUOTE>
<TT>:'a,.w save</TT>

</BLOCKQUOTE>
writes lines from <TT>a</TT> to the current line to file ``save''.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html138"
  HREF="node10.html">Finishing Up</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html136"
  HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="icons/next.png"></A> 
<A NAME="tex2html132"
  HREF="501.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="icons/up.png"></A> 
<A NAME="tex2html126"
  HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="icons/prev.png"></A> 
<A NAME="tex2html134"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="icons/contents.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html137"
  HREF="node10.html">Finishing Up</A>
<B> Up:</B> <A NAME="tex2html133"
  HREF="501.html">The Vi Editor</A>
<B> Previous:</B> <A NAME="tex2html127"
  HREF="node8.html">Moving About in a</A>
 &nbsp <B>  <A NAME="tex2html135"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
&#169 Robert Evans, <a href=http://www.cs.cf.ac.uk/>Cardiff School of Computer Science</a>, <a href=http://www.cf.ac.uk/>Cardiff University</a>, 2003-09-18
</ADDRESS>
</BODY>
</HTML>
